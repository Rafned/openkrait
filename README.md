OpenKrait v1.0.0
Автоматический часовой для вашего Kubernetes и не только.

Просыпайтесь не от алертов, а от запаха кофе. OpenKrait сканирует манистусты, анализирует логи и проверяет пайплайны, пока вы спите.

Как это работает
OpenKrait построен по модульному принципу. Вот как компоненты взаимодействуют друг с другом:


Технические детали
Ядро конфигурации - единая точка загрузки YAML-конфига. Поддерживает вложенные ключи через точку. Не ломается при отсутствии файла конфигурации.

Сканер Kubernetes использует официальную библиотеку и:
 - Автоматически определяет контекст (in-cluster или local)
 - Интегрируется с Trivy для сканирования образов
 - Проверяет ConfigMaps на чувствительные данные
 - Соблюдает лимиты запросов (защита от DoS)

Анализатор логов:
 - Санитизирует пути (защита от path traversal)
 - Проверяет размер файлов (<10 MB)
 - Находит ошибки без показа самих логов 

Менеджер секретов:
 - Требует HTTPS + SSL verify
 - Проверяет лимиты хранения
 - Поддерживает ввод через stdin для автоматизации

Оптимизатор пайплайнов:
 - Автодетект платформы (Jenkins/GitLab/GitHub)
 - Анализирует на наличие caching/parallel стратегий

Дает конкретные рекомендации.

Быстрый старт:
  # Установка
  pip install openkrait

  # Или через Docker
  docker build -t openkrait:1.0.0 .
  docker run --rm -v $(pwd):/data your-username/openkrait:1.0.0 scan-k8s


Примеры использования
Сканирование кластера:
  openkrait scan-k8s
  # → Находит уязвимые образы (nginx:1.14.*)
  # → Проверяет ConfigMaps на наличие password в ключах
  # → Интегрируется с Trivy при наличии
 
Анализ логов:
  openkrait analyze-logs --log-path /var/log/app.log
  # → Обнаруживает ERROR/WARN без показа sensitive данных
  # → Работает с файлами до 10MB

Работа с секретами:
  echo "my-secret" | openkrait store-secret-stdin  # Для скриптов
  openkrait store-secret-cmd --secret "my-secret"  # Интерактивно
  # → Сохраняет в Vault с проверкой лимитов
  # → Требует HTTPS
Оптимизация пайплайнов:
  openkrait optimize-pipeline --pipeline Jenkinsfile
  # → Предлагает добавить caching/stash
  # → Определяет платформу автоматически  

Кастомизация  
Добавьте свои правила в config.yaml:
  vulnerability:
  images:
    - pattern: "^my-old-image:.*"
      recommendation: "Обновите до my-new-image:1.27"
      severity: low

  limits:
    max_secrets: 10  # Настройте под свои needs
Правила применяются без перезапуска системы.  


Почему OpenKrait?
  Безопасность по умолчанию - все проверки включены из коробки
  Нулевая переконфигурация - работает сразу после установки
  Прагматичная интеграция - адаптируется под доступные инструменты
  Человекочитаемый вывод - конкретные рекомендации вместо сырых данных
  Легкость расширения - новые правила через YAML

Технические характеристики  
  Тестовое покрытие: 85%
  Поддержка: Python 3.8+
  Зависимости: hvac, pyyaml, kubernetes, click
  Размер Docker образа: <100MB


Для тех, кто предпочитает спокойное утро хаотичному расследованию.

OpenKrait не заменяет полноценные мониторинговые системы, но идеален как первый инструмент для утренней диагностики. Когда дашборды красные, а кофе еще не готов - одна команда покажет, с чего начать.  

P.S Принимаю любую критику и предложения, по мере возможности буду  обновлять ПО . с новыми фичами.